library(PRAWNS)
Startup()
prawn_path <- "NOx_emissions_in_2020_v0.8.6/Londonless/PRAWN.csv"
raw <- read.csv(prawn_path,
row.names=1,
check.names=FALSE)
setwd("~/GitHub/Data-analysis-with-PRAWNS-demo")
raw <- read.csv(prawn_path,
row.names=1,
check.names=FALSE)
refined <- dplyr::select(LSOA11CD,IMD,Total,Area) %>% raw %>% group_by(Area)
refined <- raw %>% dplyr::select(LSOA11CD,IMD,Total,Area) %>% group_by(Area)
models <- %>%
models <- raw %>%
#get the rsquared
do(glance(lm(Total~IMD, data=.)
models <- raw %>%
models <- raw %>%
#get the rsquared
do(glance(lm(Total~IMD, data=.)))
models <- refined %>%
#get the rsquared
do(glance(lm(Total~IMD, data=.)))
View(models)
refined %>% filter(Area="Isles of Scilly")
refined %>% filter(Area=="Isles of Scilly")
coeffs <- refined %>%
#get the rsquared
do(tidy(lm(Total~IMD, data=.)))
View(coeffs)
graphable <- inner_join(models,coeffs %>% select(term==IMD),by=Area)
coeffs %>% select(term==IMD)
graphable <- inner_join(models,coeffs %>% filter(term==IMD),by=Area)
graphable <- inner_join(models,coeffs %>% filter(term=="IMD"),by=Area)
graphable <- inner_join(models,coeffs %>% filter(term=="IMD"),by="Area")
curiosity <- coeffs %>% filter(p.value<=0.05)
coeffs <- refined %>%
#get the rsquared
do(tidy(lm(Total~IMD, data=.))) %>%
filter(term="IMD")
coeffs <- refined %>%
#get the rsquared
do(tidy(lm(Total~IMD, data=.))) %>%
filter(term=="IMD")
curiosity <- coeffs %>% filter(p.value<=0.05)
test <- ggplot(coeffs)+ aes(x=estimate)+geom_bar()
View(test)
test
coeffs$estimate
test <- ggplot(coeffs)+ aes(x=estimate)+geom_histogram()
test
test <- ggplot(curiosity)+ aes(x=estimate)+geom_histogram()
test
test <- ggplot()++geom_histogram(data=coeffs,aes(x=estimate))geom_histogram(data=curiosity,aes(x=estimate),fill="orange")
test <- ggplot()+geom_histogram(data=coeffs,aes(x=estimate))geom_histogram(data=curiosity,aes(x=estimate),fill="orange")
test <- ggplot()+geom_histogram(data=coeffs,aes(x=estimate))+
geom_histogram(data=curiosity,aes(x=estimate),fill="orange")
test
test <- ggplot()+
geom_histogram(data=coeffs,
aes(x=estimate,bins=40))+
geom_histogram(data=curiosity,
aes(x=estimate),
fill="orange",bins=40)
test <- ggplot()+
geom_histogram(data=coeffs,
aes(x=estimate),bins=40)+
geom_histogram(data=curiosity,
aes(x=estimate),
fill="orange",bins=40)
test
test <- ggplot()+
geom_histogram(data=coeffs,
aes(x=estimate),bins=50)+
geom_histogram(data=curiosity,
aes(x=estimate),
fill="orange",bins=50)
test
test <- ggplot()+
geom_histogram(data=coeffs,
aes(x=estimate),bins=50)+
geom_histogram(data=curiosity,
aes(x=estimate),
fill="orange",bins=50)+
coord_cartesian(ylim=c(0,12),expand=FALSE)
test
test <- ggplot()+
geom_histogram(data=coeffs,
aes(x=estimate),bins=50)+
geom_histogram(data=curiosity,
aes(x=estimate),
fill="orange",bins=50)+
coord_cartesian(ylim=c(0,13),expand=FALSE)
test
test <- ggplot()+
geom_histogram(data=coeffs,
aes(x=estimate),bins=50)+
geom_histogram(data=curiosity,
aes(x=estimate),
fill="orange",bins=50)+
coord_cartesian(ylim=c(0,12),expand=c(0,0.5))
test
test <- ggplot()+
geom_histogram(data=coeffs,
aes(x=estimate),bins=60)+
geom_histogram(data=curiosity,
aes(x=estimate),
fill="orange",bins=60)+
coord_cartesian(ylim=c(0,12),expand=FALSE)
test
test <- ggplot()+
geom_histogram(data=coeffs,
aes(x=estimate),bins=60)+
geom_histogram(data=curiosity,
aes(x=estimate),
fill="orange",bins=60)+
coord_cartesian(ylim=c(0,12),expand=FALSE)
test
test <- ggplot()+
geom_histogram(data=coeffs,
aes(x=estimate),bins=60)+
geom_histogram(data=curiosity,
aes(x=estimate),
fill="orange",bins=60)+
coord_cartesian(ylim=c(0,14),expand=FALSE)
test
test <- ggplot()+
geom_histogram(data=coeffs,
aes(x=estimate),bins=50)+
geom_histogram(data=curiosity,
aes(x=estimate),
fill="orange",bins=50)+
coord_cartesian(ylim=c(0,14),expand=FALSE)
test
hmmmmm <- coeffs %>% filter(estimate>=0)
View(hmmmmm)
View(curiosity)
coeffs %>% filter(Area=="Buckinghamshire" OR Area=="Bedford")
coeffs %>% filter(Area=="Buckinghamshire" | Area=="Bedford")
active_stack <- read.csv(prawn_path) %>% group_by(Area)
area_rank <- active_stack %>% summarise(Mean =mean(Total),
Median=median(Total),
dep=mean(IMD)) %>%
pivot_longer(c(Mean, Median), names_to = "Average used for NOx",values_to = "token") %>% group_by(`Average used for NOx`)
model <- active_stack %>%  do(tidy(lm(Total~IMD, data=.)))
View(model)
model <- area_rank %>%  do(tidy(lm(Mean~dep, data=.)))
model <- area_rank %>%  do(tidy(lm(`Average used for NOx`~dep, data=.)))
View(area_rank)
model <- area_rank %>%  do(tidy(lm(token~dep, data=.)))
View(model)
source("~/GitHub/Data-analysis-with-PRAWNS-demo/Scripts/recompile.R", encoding = 'UTF-8')
source("~/GitHub/Data-analysis-with-PRAWNS-demo/Scripts/recompile.R", encoding = 'UTF-8')
library(PRAWNS)
source("~/GitHub/Data-analysis-with-PRAWNS-demo/Scripts/recompile.R", encoding = 'UTF-8')
library(PRAWNS)
source("~/GitHub/Data-analysis-with-PRAWNS-demo/Scripts/recompile.R", encoding = 'UTF-8')
